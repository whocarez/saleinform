<?phpif (!defined('BASEPATH')) exit('No direct script access allowed');/* * Mostpopular module * Mazvv 03-05-2007*/class Mostpopular_module{
	private $ciObject;	private $objectsArr = array();	private $searchesTagsQuan = 30;
	public function __construct(){		$this->ciObject = &get_instance();		$this->ciObject->lang->load('mostpopular_module');		$this->ciObject->load->model('mostpopular_model');	}
	public function renderSearchesTags(){		$searchesTags = $this->ciObject->mostpopular_model->getSearchesTags($this->searchesTagsQuan);		$data = array();		if(count($searchesTags) > 5){			$maxVal = $searchesTags[0]->popularity;			$minVal = $searchesTags[count($searchesTags)-1]->popularity;			shuffle($searchesTags);			$data['tags'] = $searchesTags;			$data['min'] = $minVal;	        $maxFsize = 250;	        $minFsize = 100;	        $data['minFsize'] = $minFsize;			$spread = $maxVal - $minVal;	        if (0 == $spread) $spread = 1;	        $step = ($maxFsize - $minFsize)/($spread);	        $data['step'] = $step;         	return $this->ciObject->load->view('modules/mostpopular_module/cloud.php', $data, True);       		}	}}
?>