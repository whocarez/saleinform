<?php/** * Welcome class - welcome controller * The first controller of saleinform  which loads by default *  * @access public * @author Mazvv * @package controllers * @copyright Copyright 2007 (c) */class Welcome extends Controller{	private $objectsArr = array();	/**	 * Welcome::__construct. Initialize welcome controller	 * 	 * @access public	 * @author MAzvv	 * @param void	 * @return void 	 */	function __construct(){		parent::Controller();		#$this->output->cache(10);
		// { Enable profiler for admin only
		$currentSESS = $this->session->userdata('_SI_');		if(isset($currentSESS['SI_LOGIN']['_USER_LOGIN_']) && $currentSESS['SI_LOGIN']['_USER_LOGIN_'] == 'mazvv'){
			$this->output->enable_profiler(True);		
		}
		else $this->output->enable_profiler(False);
		// } Enable profiler for admin only		/* load needed libraries */			$this->load->library('settings_module');		$this->load->library('search_module');		$this->load->library('categories_module');		$this->load->library('accounts_module');		$this->load->library('mostpopular_module');		$this->load->library('linkchanges_module');		$this->load->library('last_module');		$this->load->library('quickmenu_module');		$this->load->library('info_module');		$this->load->library('contacts_module');		/* generate objects */		$this->objectsArr['search_bar_obj'] = $this->search_module->RenderSearchBar();		$this->objectsArr['categories_main_obj'] = $this->categories_module->renderTopCategoriesList();		#$this->objectsArr['categories_table_obj'] = $this->categories_module->RenderCategoriesTable();		$this->objectsArr['login_area_obj'] = $this->accounts_module->RenderLoginArea();		$this->objectsArr['settings_area_obj'] = $this->settings_module->RenderSettingsArea();		$this->objectsArr['mostpopular_area_obj'] = $this->mostpopular_module->RenderRatedClients();		$this->objectsArr['mostpopular_searches_obj'] = $this->mostpopular_module->RenderMostpopularSearchesArea();		$this->objectsArr['mostpopular_categories_carousel_obj'] = $this->mostpopular_module->RenderMostpopularCategoriesCarousel();		$this->objectsArr['hotoffers_obj'] = $this->categories_module->renderHotOffers();		$this->objectsArr['linkchanges_area_obj'] = $this->linkchanges_module->RenderLinkchangesArea();		$this->objectsArr['last_area_obj'] = $this->last_module->RenderLastCluopinions(); #RenderLastNews();		$this->objectsArr['quickmenu_area_obj'] = $this->quickmenu_module->RenderQuickmenuArea();		$this->objectsArr['footermenu_area_obj'] = $this->quickmenu_module->RenderFootermenuArea();		$this->objectsArr['whatisit_area_obj'] = $this->info_module->RenderWhatIsItArea();		$this->objectsArr['contactstoolbar_area_obj'] = $this->contacts_module->RenderContactsToolbar();	}
	/**	 * Welcome::index - default controller's method	 * 	 * @access public	 * @author Mazvv	 * @param void	 * @return void	 */	function index(){		$meta = $this->constant_model->getMeta();		$this->objectsArr['title'] = $meta->meta_title; 		$this->objectsArr['meta'] = array(array('name' => 'Content-type', 'content' => 'text/html; charset=utf-8', 'type' => 'equiv'),        									array('name' => 'robots', 'content' => 'no-cache'),        									array('name' => 'description', 'content' => $meta->meta_description),        									array('name' => 'keywords', 'content' => $meta->meta_keywords),        									array('name' => 'robots', 'content' => 'no-cache'));		$this->load->view('layouts/welcome.php', $this->objectsArr);	}}?>