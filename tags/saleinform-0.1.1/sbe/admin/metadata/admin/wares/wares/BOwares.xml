<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<BizDataObj Class="BizDataObj" DBName="Default" IdGeneration="Identity" Description="Add description of BizDataObj" InheritFrom="" Name="BOwares" OtherSQLRule="" Package="admin.wares.wares" SearchRule="" SortRule="" Table="_wares">
	<BizFieldList>
		<!--  -->
		<BizField Column="name" Join="categories_join" Name="_categories_name" Type="Text"/>	
		<BizField Column="name" Join="brands_join" Name="_brands_name" Type="Text"/>	
		<!-- 
		<BizField Column="mark" Name="mark" Join="waresuopinions_join"/>
		<BizField Column="" Name="_waresuopinions_mark" SQLExpr="ROUND(AVG([mark]),2)"/>
		 -->
		<!--  -->
	
		<BizField Column="rid" Name="Id"/>
		<BizField Column="_brands_rid" Name="_brands_rid" Required="Y" Type="Number"/>
		<BizField Column="_categories_rid" Name="_categories_rid" Required="Y" Type="Number"/>
		<BizField Column="model" Name="model" Required="Y" Type="Text"/>
		<!-- 
		<BizField Column="name" Name="name" Required="Y" Type="Text"/>
		
		<BizField Column="" Name="full_name" SQLExpr="CONCAT([_brands_name],' ',[model])" />
		 -->
		<BizField Column="archive" Name="archive" DefaultValue="0" Type="Text"/>
		<BizField Column="" Name="archive_display_value" Value="{(@:Field[archive].Value == '1')?'Да':'Нет'}"/>
		<BizField Column="descr" Name="descr" Type="Text" />
		<BizField Column="createDT" Name="createDT" Type="DateTime" />
		<BizField Column="modifyDT" Name="modifyDT" Type="DateTime" />
	</BizFieldList>
	<TableJoins>
		<Join Name="brands_join" Table="_brands" Column="rid" ColumnRef="_brands_rid" JoinType="INNER JOIN" />	
		<Join Name="categories_join" Table="_categories" Column="rid" ColumnRef="_categories_rid" JoinType="INNER JOIN" />
		<!-- 
		<Join Name="waresuopinions_join" Table="_waresuopinions" Column="_wares_rid" ColumnRef="rid" JoinType="LEFT JOIN"/>
		 -->
	</TableJoins>
	<ObjReferences>
		<Object Column="Id" Description="категория" FieldRef="_categories_rid" Name="admin.wares.categories.BOcategories" Relationship="M-1" Table="_categories" CascadeDelete="Y"/>		
		<Object Column="Id" Description="бренд" FieldRef="_brands_rid" Name="admin.wares.brands.BObrands" Relationship="M-1" Table="_brands" CascadeDelete="Y"/>
		<Object Column="_wares_rid" Description="параметры" FieldRef="Id" Name="admin.wares.warespars.BOwarespars" Relationship="1-M" Table="_warespars" CascadeDelete="Y"/>
		<Object Column="_wares_rid" Description="изображения" FieldRef="Id" Name="admin.wares.waresimages.BOwaresimages" Relationship="1-M" Table="_waresimages" CascadeDelete="Y"/>
		<Object Column="_wares_rid" Description="отзывы пользователей" FieldRef="Id" Name="admin.wares.waresuopinions.BOwaresuopinions" Relationship="1-M" Table="_waresuopinions" CascadeDelete="Y"/>
		<Object Column="_wares_rid" Description="обзоры" FieldRef="Id" Name="admin.wares.waresrewievs.BOwaresrewievs" Relationship="1-M" Table="_waresrewievs" CascadeDelete="Y"/>
	</ObjReferences>
</BizDataObj>
